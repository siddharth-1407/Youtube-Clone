import{r as o,C as R,j as n,a as t,L as p}from"./index-4483838d.js";import{S as b,R as C}from"./Comment-26878611.js";import{N as A}from"./index-f28fc07c.js";import{f as j}from"./index-307d66e5.js";import{A as L}from"./Avatar-6815148a.js";import"./ArrowForward-1dbd89a4.js";import"./config-42586af4.js";const F=({reply:e})=>{var d,c,l,m,u;o.useContext(R);const[g,N]=o.useState(""),[v,i]=o.useState(!1);function k(a){if(a.length===7||a.length===8){const[f,s,h]=a.split(":").map(Number);return f*3600+s*60+h}if(a.length===4||a.length===5){const[f,s]=a.split(":").map(Number);return f*60+s}}const w=()=>{var x;const a=/\\b(\d{1,2}):(\d{2})(?::(\d{2}))?\\b/g,f=/@([A-Za-z0-9_]+)/;let s;return s=((x=e==null?void 0:e.snippet)==null?void 0:x.textOriginal.replace(f,r=>`<span class="text-[#3ea6ff]"><span aria-hidden='true'>@</span>${r.substr(1)}</span>`)).replace(a,r=>`<button class='timeStamp text-[#3ea6ff]' data-time=${k(r)}>${r}</button>`),{__html:s}};return o.useEffect(()=>{var a;N(j(new Date((a=e==null?void 0:e.snippet)==null?void 0:a.updatedAt)))},[]),n("div",{className:" flex gap-3",children:[t(p,{to:(d=e==null?void 0:e.snippet)==null?void 0:d.authorChannelUrl,className:"image-container ",children:t(L,{src:((c=e==null?void 0:e.snippet)==null?void 0:c.authorProfileImageUrl)||"",sx:{width:24,height:24}})}),n("div",{className:"flex flex-1 flex-col gap-[0.15rem]",children:[n(p,{to:(l=e==null?void 0:e.snippet)==null?void 0:l.authorChannelUrl,className:"flex w-fit gap-2 text-[0.8rem] text-[#0f0f0f] dark:text-[#f1f1f1]",children:[n("span",{children:["@",(m=e==null?void 0:e.snippet)==null?void 0:m.authorDisplayName]}),t("span",{className:"text-[#606060] hover:text-[#0f0f0f] dark:text-[#aaaaaa] dark:hover:text-white",children:`${g} ago`})]}),t("div",{children:t("p",{className:" w-full bg-transparent text-[0.95rem] text-[#0f0f0f] dark:text-[#f1f1f1] lg:w-[97%]",dangerouslySetInnerHTML:w()})}),n("div",{className:"buttons |  flex flex-row items-center justify-start gap-2 ",children:[n("div",{className:"flex items-center gap-1 ",children:[t("button",{className:"w-8 overflow-hidden rounded-full bg-transparent p-2 text-sm font-medium text-[#0f0f0f] hover:bg-[#e5e5e5] dark:text-[#f1f1f1] dark:hover:bg-[#3f3f3f]",children:t(b,{className:"scale-[3.5]"})}),t("span",{className:"text-xs text-[#606060] dark:text-[#aaaaaa]",children:A((u=e==null?void 0:e.snippet)==null?void 0:u.likeCount,2)})]}),t("div",{children:t("button",{className:"w-8 rounded-full bg-transparent p-2 text-sm font-medium text-[#0f0f0f] hover:bg-[#e5e5e5] dark:text-[#f1f1f1] dark:hover:bg-[#3f3f3f]",onClick:a=>handleCancelComment(a),children:t(b,{className:"rotate-180 scale-[3.5]"})})}),t("div",{children:t("button",{className:"rounded-full bg-transparent py-1 px-2 text-xs font-medium text-[#0f0f0f] hover:bg-[#e5e5e5] dark:text-[#f1f1f1] dark:hover:bg-[#3f3f3f]",onClick:a=>i(!0),children:t("span",{children:"Reply"})})})]}),v&&t(C,{setReplyForm:i})]})]})};export{F as default};
