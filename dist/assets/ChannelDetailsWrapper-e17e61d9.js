import{r as a,_ as d,u as y,e as v,C as w,j as E,a as t}from"./index-4483838d.js";import{f as C}from"./api-8804df91.js";import"./axios-aba6f0e0.js";const S=a.lazy(()=>d(()=>import("./Sidebar-fdf91e6d.js"),["assets/Sidebar-fdf91e6d.js","assets/index-4483838d.js","assets/index-1f6290d0.css","assets/Constants-c70401ee.js","assets/MylikesActive-4396e479.js","assets/SigninBtn-bb89ba13.js","assets/config-42586af4.js"])),D=a.lazy(()=>d(()=>import("./ChannelDetails-b2e84880.js"),["assets/ChannelDetails-b2e84880.js","assets/index-4483838d.js","assets/index-1f6290d0.css","assets/index-f28fc07c.js","assets/ArrowForward-1dbd89a4.js"])),q=()=>{const u=y(),{id:p}=v(),{rateLimited:n,loading:f,setSelectCategory:h,setLoading:r,setRateLimited:o,setProgress:i,sidebarExpanded:c,setSidebarExpanded:m,setChannelData:g}=a.useContext(w);a.useEffect(()=>{h(null),m(!0),window.innerWidth<=1024&&m(!1)},[]),a.useEffect(()=>{x()},[]);const x=async()=>{var l,s;i(80);try{const e=await C(`channels?part=brandingSettings&part=contentDetails&part=contentOwnerDetails&part=snippet&part=statistics&id=${p}&key=${{}.VITE_APP_YOUTUBE_API_KEY}`);console.log(e),document.title=`${(s=(l=e==null?void 0:e.items[0])==null?void 0:l.snippet)==null?void 0:s.title} - YouTube Clone`,r(!1),o(!1),g(e.items[0]),_()}catch(e){console.log("Error",e),r(!1),o(!0)}i(100)},_=()=>{document.querySelector("meta[name=description]")&&document.head.removeChild(document.querySelector("meta[name=description]")),document.querySelector('meta[name="keywords"]')&&document.head.removeChild(document.querySelector("meta[name=keywords]")),document.querySelectorAll('meta[name="tags"]')&&document.querySelectorAll('meta[name="tags"]').forEach(s=>{document.head.removeChild(s)})};return E("div",{className:"flex h-full min-h-screen",children:[!n&&t(a.Suspense,{fallback:t("div",{}),children:t(S,{})}),!f&&t("div",{className:`main-feed | h-full ml-0 flex flex-wrap justify-center gap-y-7 gap-x-2 p-0  mx-auto w-full overflow-hidden text-white ${n?"w-screen ml-[0px]":`${c?"lg:w-[calc(100vw-240px)]":"lg:w-[calc(100vw-72px)]"}`} ${c?"ml-0 sm:ml-[57px]  lg:ml-[240px] ":" ml-0 sm:ml-[50px] "} `,children:n?u("/rateLimited"):t(a.Suspense,{fallback:t("div",{}),children:t(D,{})})})]})};export{q as default};
