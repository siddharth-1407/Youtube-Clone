import{j as m,a as e,r as l,_,C as P}from"./index-4483838d.js";import{f as g}from"./api-8804df91.js";import{S as p}from"./index-26f5842a.js";/* empty css                 */import"./axios-aba6f0e0.js";const w=()=>m("div",{className:" flex flex-col gap-2 w-[90%] sm:w-[210px] md:w-[305.9983px]",children:[e("div",{className:"imageSkeleton bg-[#e5e5e5] dark:bg-[#272727] rounded-[12px]  min-h-[10rem] aspect-video"}),m("div",{className:"detailsWrapper | flex gap-4",children:[e("div",{className:"channelImageSkeleton",children:e(p,{circle:!0,width:"36px",height:"36px",baseColor:document.documentElement.classList.contains("dark")?"#272727":"#e5e5e5",enableAnimation:!1})}),m("div",{className:" w-full flex flex-col gap-2",children:[e("p",{children:e(p,{enableAnimation:!1,baseColor:document.documentElement.classList.contains("dark")?"#272727":"#e5e5e5",width:"95%",height:"1.25rem"})}),e("p",{className:"w-5/6",children:e(p,{enableAnimation:!1,baseColor:document.documentElement.classList.contains("dark")?"#272727":"#e5e5e5",width:"80%",height:"1.25rem"})})]})]})]}),C=l.lazy(()=>_(()=>import("./ChannelVideoCard-e8d8c5f1.js"),["assets/ChannelVideoCard-e8d8c5f1.js","assets/index-4483838d.js","assets/index-1f6290d0.css","assets/api-8804df91.js","assets/axios-aba6f0e0.js","assets/MoreVert-a588e145.js","assets/VideoLengthTimer-41ed4197.js","assets/index-26f5842a.js","assets/index-f28fc07c.js","assets/index-f60fa138.js","assets/index-307d66e5.js","assets/skeleton-43978ee9.css"])),A=()=>{const{setProgress:r,setRateLimited:i,channelData:n}=l.useContext(P),[c,u]=l.useState([]),[f,o]=l.useState(!0),[d,h]=l.useState(""),E=["","","","","","","","","","","","","","","","",""];l.useEffect(()=>{k()},[]);const k=async()=>{var s,a;document.documentElement.scrollTop=0,r(80);try{o(!0),i(!1);const t=await g(`playlistItems?part=snippet&maxResults=16&playlistId=${(a=(s=n==null?void 0:n.contentDetails)==null?void 0:s.relatedPlaylists)==null?void 0:a.uploads}&key=${{}.VITE_APP_YOUTUBE_API_KEY}`);o(!1),u(t.items),h(t.nextPageToken)}catch(t){console.log("Error",t),t.response.status===404?o(!1):t.response.status===403&&(o(!1),i(!0))}r(100)},y=()=>{var s,a;g(`playlistItems?part=snippet&maxResults=16&playlistId=${(a=(s=n==null?void 0:n.contentDetails)==null?void 0:s.relatedPlaylists)==null?void 0:a.uploads}&pageToken=${d}&key=${{}.VITE_APP_YOUTUBE_API_KEY}`).then(t=>{i(!1),console.log(t),h(t.nextPageToken),u(v=>[...v,...t.items]),console.log("next page token",d)}).catch(t=>{console.log("Error",t),o(!1),i(!0)})},x=async()=>{if(window.innerHeight+document.documentElement.scrollTop+1===document.documentElement.scrollHeight&&d)try{r(80),y(),r(100)}catch(s){console.log(s)}};return l.useEffect(()=>(window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}),[d]),e("div",{className:"w-[calc(100vw-2rem)] mx-auto min-h-[780px] h-full sm:px-12 sm:w-full md:px-0 md:w-[40rem] lg:w-[50rem] xl:px-0 2xl:px-0 xl:min-w-[61rem]  2xl:min-w-[81.25rem] pt-4  divide-y-[1px] divide-[#e5e5e5] dark:divide-[#3f3f3f]",children:m("div",{className:"flex flex-wrap gap-x-4 gap-y-8 justify-center md:justify-start",children:[f&&E.map((s,a)=>e(w,{},a)),!f&&(c==null?void 0:c.length)>0?c.map(s=>e(l.Suspense,{fallback:e(w,{}),children:e(C,{video:s})},s.id)):e("p",{className:"text-center w-full",children:"This channel has no videos."})]})})};export{A as default};
