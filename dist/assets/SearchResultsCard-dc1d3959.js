import{j as n,F as ae,a as t,L as r,r as a,_ as y,C as se}from"./index-97ce0fac.js";import{S as J}from"./index-ac20a466.js";/* empty css                 */import{N as ne}from"./index-1dff0b23.js";import{f as le}from"./index-307d66e5.js";import{i as re,l as H}from"./index-f60fa138.js";import{d as ie}from"./MoreVert-02c8a8a7.js";import{f as _}from"./api-8804df91.js";import"./axios-aba6f0e0.js";const ce=({video:e})=>{var h,i,u,x,c,d,o,b,m,g,w,N;return n(ae,{children:[n("div",{className:"group w-full flex  gap-4 p-1 ",children:[t(r,{className:"max-w-full",to:`/channels/${(h=e.id)==null?void 0:h.channelId}`,children:t("div",{className:"thumbnail | relative flex justify-center items-center bg-white dark:bg-[#0f0f0f] rounded-[12px] sm:w-auto sm:min-w-[360px] min-h-[8rem] sm:min-h-[12.563rem] aspect-square sm:aspect-video overflow-hidden",children:t("img",{loading:"lazy",src:((x=(u=(i=e==null?void 0:e.snippet)==null?void 0:i.thumbnails)==null?void 0:u.high)==null?void 0:x.url)||((o=(d=(c=e==null?void 0:e.snippet)==null?void 0:c.thumbnails)==null?void 0:d.medium)==null?void 0:o.url)||t("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),alt:"",className:"h-3/4 rounded-full aspect-square bg-[#e5e5e5] dark:bg-[#272727]"})})}),t("div",{className:"flex flex-col gap-2 sm:gap-4  py-5 sm:py-10 md:py-5 leading-snug w-full  relative  ",children:n("div",{className:"flex flex-col justify-between md:justify-center md:gap-4 h-full gap-1 ",children:[t(r,{className:"w-full flex flex-col justify-between md:justify-start pr-1",to:`/channels/${(b=e.id)==null?void 0:b.channelId}`,children:t("p",{className:"line-clamp font-semibold w-full text-base text-[#0f0f0f] dark:text-white",children:(m=e==null?void 0:e.snippet)==null?void 0:m.title})}),(g=e==null?void 0:e.snippet)!=null&&g.description?t(r,{to:`/${(w=e.id)==null?void 0:w.channelId}`,children:t("p",{className:"text-[0.8rem] text-[#606060] dark:text-[#aaaaaa] line-clamp-custom sm:max-w-[163px] md:max-w-[200px] lg:max-w-[100%]",children:(N=e.snippet)==null?void 0:N.description})}):t(J,{baseColor:document.documentElement.classList.contains("dark")?"#0f0f0f":"#white",width:"80%",height:"1.25rem",enableAnimation:!1}),t("div",{className:"flex md:hidden text-[#606060] dark:text-[#aaaaaa] text-[0.8rem]  ",children:t("button",{className:" js_EventBtn | h-7 px-3 flex items-center gap-2 rounded-full text-[#f1f1f1] bg-[#0f0f0f] hover:bg-[#272727] dark:text-[#0f0f0f] dark:bg-[#f1f1f1] dark:hover:bg-[#d9d9d9] border-transparent  border-[1px]",children:t("span",{className:"font-semibold pointer-events-none",children:"Subscribe"})})})]})}),t("div",{className:"hidden md:flex text-[#606060] dark:text-[#aaaaaa] text-[0.8rem]  ",children:t("button",{className:" js_EventBtn | self-center h-9 px-3 flex items-center gap-2 rounded-full text-[#f1f1f1] bg-[#0f0f0f] hover:bg-[#272727] dark:text-[#0f0f0f] dark:bg-[#f1f1f1] dark:hover:bg-[#d9d9d9] border-transparent  border-[1px]",children:t("span",{className:"font-semibold pointer-events-none",children:"Subscribe"})})})]}),t("hr",{className:"border-[#e5e5e5] dark:border-[#535353] hidden sm:block  sm:my-2"})]})},de=a.lazy(()=>y(()=>import("./SharePopup-d07140af.js"),["assets/SharePopup-d07140af.js","assets/index-97ce0fac.js","assets/index-1f6290d0.css","assets/ReactToastify-e2bb595c.js","assets/ReactToastify-f2ebcc7d.css"])),me=a.lazy(()=>y(()=>import("./IsLive-22a45e03.js"),["assets/IsLive-22a45e03.js","assets/index-97ce0fac.js","assets/index-1f6290d0.css","assets/Live-5fe53068.js"])),oe=a.lazy(()=>y(()=>import("./VideoLengthTimer-6a362907.js"),["assets/VideoLengthTimer-6a362907.js","assets/index-97ce0fac.js","assets/index-1f6290d0.css"])),pe=({video:e})=>{var E,I,S,A,D,P,$,T,v,j,C,V,L,z,B,O,U,R,Y,q,F,M,K,G;const h=new DOMParser,i=a.useRef(),{mouseUpAction:u,mouseDownAction:x}=a.useContext(se),[c,d]=a.useState(!1),[o,b]=a.useState(!1),[m,g]=a.useState(!1),[w,N]=a.useState([]),[Q,W]=a.useState("");a.useEffect(()=>{X(e.snippet.channelId),Z(e.id.videoId),ee(e.id.videoId),te(e.snippet.publishedAt)},[e.id.videoId]),a.useEffect(()=>{let s=l=>{i.current.contains(l.target)||d(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const X=s=>{_(`channels?part=snippet&id=${s}&key=${{}.VITE_APP_YOUTUBE_API_KEY}`).then(({items:l})=>{b(l)})},Z=s=>{_(`videos?part=statistics&id=${s}&key=${{}.VITE_APP_YOUTUBE_API_KEY}`).then(({items:l})=>{var p,f;const k=ne((f=(p=l[0])==null?void 0:p.statistics)==null?void 0:f.viewCount,1);g(k)})},ee=s=>{_(`videos?id=${s}&part=contentDetails&key=${{}.VITE_APP_YOUTUBE_API_KEY}`).then(({items:l})=>{var p,f;const k=re({start:0,end:H.toSeconds(H.parse((f=(p=l[0])==null?void 0:p.contentDetails)==null?void 0:f.duration))*1e3});N(k)})},te=s=>{const l=le(new Date(s));W(l)};return n("div",{className:"group w-full flex flex-col sm:flex-row gap-4 p-1 ",children:[t(r,{className:"max-w-full",to:`/video/${(E=e.id)==null?void 0:E.videoId}`,children:n("div",{className:"thumbnail | relative flex justify-center items-center bg-[#e5e5e5] dark:bg-[#272727] rounded-[12px] sm:w-auto  sm:min-h-[12.563rem] aspect-video overflow-hidden",children:[t("img",{loading:"lazy",src:((A=(S=(I=e==null?void 0:e.snippet)==null?void 0:I.thumbnails)==null?void 0:S.medium)==null?void 0:A.url)||(($=(P=(D=e==null?void 0:e.snippet)==null?void 0:D.thumbnails)==null?void 0:P.high)==null?void 0:$.url),alt:"",className:"w-full aspect-video bg-[#e5e5e5] dark:bg-[#272727]"}),((T=e.snippet)==null?void 0:T.liveBroadcastContent)==="live"?t(a.Suspense,{fallback:t("div",{}),children:t(me,{})}):t(a.Suspense,{fallback:t("div",{}),children:t(oe,{time:w})})]})}),n("div",{className:"flex flex-col gap-2 sm:gap-4 leading-snug w-full relative",children:[n("div",{className:"flex flex-col gap-1 ",children:[n("div",{className:"flex ",children:[t(r,{className:"w-full pr-1",to:`/video/${(v=e.id)==null?void 0:v.videoId}`,children:t("div",{className:"flex w-full",children:t("p",{className:"line-clamp font-semibold w-full text-base text-[#0f0f0f] dark:text-white",children:(j=e==null?void 0:e.snippet)!=null&&j.title.match(/<("[^"]*"|'[^']*'|[^'">])*>|&(amp|lt|gt|quot|apos|#\d+);|\b(\w+)\b|\d+/g)?e.snippet.title.replace(/<("[^"]*"|'[^']*'|[^'">])*>|&(amp|lt|gt|quot|apos|#\d+);|\b(\w+)\b|\d+/g,s=>h.parseFromString(s,"text/html").documentElement.innerText):e.snippet.title})})}),n("div",{className:"button | w-[39.7px] h-[39.7px]",ref:i,children:[t("button",{className:` js_EventBtn | opacity-1 sm:opacity-0 absolute w-[39.7px] h-[39.7px] rounded-full flex items-center justify-center border-transparent  active:bg-[#e3e3e3] dark:active:bg-[#272727] border-[1px] group-hover:opacity-100 ${c&&"opacity-100"}`,onClick:()=>d(!c),onMouseUp:u,onMouseDown:x,children:t(ie,{className:"text-black dark:text-white  pointer-events-none"})}),t(a.Suspense,{fallback:t("div",{}),children:t(de,{setOpen:d,video:(C=e.id)==null?void 0:C.videoId,shareRef:i,open:c})})]})]}),m&&t(r,{to:`/video/${(V=e.id)==null?void 0:V.videoId}`,children:n("p",{className:"text-[0.8rem] text-[#606060] dark:text-[#aaaaaa] line-clamp-custom",children:[n("span",{className:"",children:[`${m} `,"views"]}),t("span",{className:'before:content-["â€¢"] before:leading-3 before:text-xs before:mx-1 relative before:top-[-10px]',children:`${Q} ago`})]})})]}),t("div",{className:" flex fle-col text-[#606060] dark:text-[#aaaaaa] text-[0.8rem]  ",children:n(r,{to:`/${(L=e==null?void 0:e.snippet)==null?void 0:L.channelId}`,className:"flex items-center min-w-min gap-2",children:[t("div",{className:"w-[30px] h-[30px] rounded-full overflow-hidden bg-[#e5e5e5] dark:bg-[#272727]",children:t("img",{loading:"lazy",src:((U=(O=(B=(z=o[0])==null?void 0:z.snippet)==null?void 0:B.thumbnails)==null?void 0:O.medium)==null?void 0:U.url)||((F=(q=(Y=(R=o[0])==null?void 0:R.snippet)==null?void 0:Y.thumbnails)==null?void 0:q.high)==null?void 0:F.url),alt:"",className:"w-full aspect-square bg-[#e5e5e5] dark:bg-[#272727]"})}),t("div",{children:t("p",{className:" my-auto flex items-center gap-2 ",children:t("span",{className:"hover:text-[#0f0f0f] dark:hover:text-[#f1f1f1] transition line-clamp-custom",children:(M=e==null?void 0:e.snippet)==null?void 0:M.channelTitle})})})]})}),t("div",{children:t(r,{to:`/video/${(K=e.id)==null?void 0:K.videoId}`,title:"From the video description",className:" w-full hidden sm:flex items-center",children:m?t("p",{className:"line-clamp my-auto flex items-center gap-2  text-[0.8rem] text-[#606060] dark:text-[#aaaaaa]",children:t("span",{className:"line-clamp-custom",children:(G=e==null?void 0:e.snippet)==null?void 0:G.description})}):t(J,{baseColor:document.documentElement.classList.contains("dark")?"#272727":"#e5e5e5",width:"80%",height:"1.25rem",enableAnimation:!1})})})]})]})},_e=({video:e})=>e.id.kind==="youtube#channel"?t(ce,{video:e}):t(pe,{video:e});export{_e as default};
